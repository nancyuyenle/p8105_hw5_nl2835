p8105_hw5_nl2835
================
Nancy Le
2023-11-12

``` r
homicides <-
  read.csv("./local/homicide-data.csv") |> 
  janitor::clean_names() |> 
  separate(reported_date, into = c("year", "month", "day"), sep = c(4,6))  
```

The raw data describes victim name, race, age, sex, location of
homicide, and whether an arrest was made.

``` r
homicides = homicides |> 
  mutate(city_state = paste(city, state, sep = ", ")) |> 
  group_by(city_state) 
```

``` r
homicides |> 
  summarize(count = n())
## # A tibble: 51 × 2
##    city_state      count
##    <chr>           <int>
##  1 Albuquerque, NM   378
##  2 Atlanta, GA       973
##  3 Baltimore, MD    2827
##  4 Baton Rouge, LA   424
##  5 Birmingham, AL    800
##  6 Boston, MA        614
##  7 Buffalo, NY       521
##  8 Charlotte, NC     687
##  9 Chicago, IL      5535
## 10 Cincinnati, OH    694
## # ℹ 41 more rows
```

There are 52179 homicides from 2010 to 2016.

``` r
homicides |> 
  filter(disposition == "Closed without arrest" | disposition == "Open/No arrest") |> 
  summarize(count = n())
## # A tibble: 50 × 2
##    city_state      count
##    <chr>           <int>
##  1 Albuquerque, NM   146
##  2 Atlanta, GA       373
##  3 Baltimore, MD    1825
##  4 Baton Rouge, LA   196
##  5 Birmingham, AL    347
##  6 Boston, MA        310
##  7 Buffalo, NY       319
##  8 Charlotte, NC     206
##  9 Chicago, IL      4073
## 10 Cincinnati, OH    309
## # ℹ 40 more rows
```

There are 26505 unsolved homicides.

``` r
baltimore = homicides |> 
  filter(city_state == "Baltimore, MD") |> 
  mutate(
    unresolved = as.numeric(disposition == "Closed without arrest" | disposition == "Open/No arrest")) |> 
  select(city_state, unresolved, everything()) |> 
  group_by(unresolved) |> 
  summarize(number = n()) |> 
  mutate(total = sum(number)) |> 
  filter(unresolved == 1) |> 
  select(number, total)
```

``` r
baltimore_pt = 
  prop.test(baltimore$number, baltimore$total) |>
  broom::tidy() |> 
  janitor::clean_names()

baltimore_pt |> 
  select(estimate, conf_low, conf_high) |> knitr::kable()
```

|  estimate |  conf_low | conf_high |
|----------:|----------:|----------:|
| 0.6455607 | 0.6275625 | 0.6631599 |

The estimated proportion of homicides unsolved is 0.6456 with a
confidence interval of \[0.627, 0.663\].
